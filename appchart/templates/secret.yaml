# apiVersion: bitnami.com/v1alpha1
# kind: SealedSecret
# metadata:
#   name: {{ .Values.envSecretName }}
#   namespace: {{ .Release.Namespace }}
# spec:
#   encryptedData:
#     DB_HOST: AgByDUMMY
#     DB_NAME: Ao1kdDUMMY
#     DB_USER: AfaJDUMMY
#     DB_PASSWORD: APdksDUMMY
#   template:
#     metadata:
#       name: {{ .Values.envSecretName }}
#       namespace: {{ .Release.Namespace }}

{{- if .Values.secret.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.secret.name }}
  namespace: {{ .Release.Namespace }}
type: Opaque
data:
  {{- range $key, $value := .Values.secret.data }}
  {{ $key }}: {{ $value | b64enc | quote }}
  {{- end }}
{{- end }}
